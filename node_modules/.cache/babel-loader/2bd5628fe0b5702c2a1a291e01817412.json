{"ast":null,"code":"\"use strict\";\n\nconst fs = require(\"fs\");\n\nconst {\n  ono\n} = require(\"@jsdevtools/ono\");\n\nconst url = require(\"../util/url\");\n\nconst {\n  ResolverError\n} = require(\"../util/errors\");\n\nmodule.exports = {\n  /**\n   * The order that this resolver will run, in relation to other resolvers.\n   *\n   * @type {number}\n   */\n  order: 100,\n\n  /**\n   * Determines whether this resolver can read a given file reference.\n   * Resolvers that return true will be tried, in order, until one successfully resolves the file.\n   * Resolvers that return false will not be given a chance to resolve the file.\n   *\n   * @param {object} file           - An object containing information about the referenced file\n   * @param {string} file.url       - The full URL of the referenced file\n   * @param {string} file.extension - The lowercased file extension (e.g. \".txt\", \".html\", etc.)\n   * @returns {boolean}\n   */\n  canRead(file) {\n    return url.isFileSystemPath(file.url);\n  },\n\n  /**\n   * Reads the given file and returns its raw contents as a Buffer.\n   *\n   * @param {object} file           - An object containing information about the referenced file\n   * @param {string} file.url       - The full URL of the referenced file\n   * @param {string} file.extension - The lowercased file extension (e.g. \".txt\", \".html\", etc.)\n   * @returns {Promise<Buffer>}\n   */\n  read(file) {\n    return new Promise((resolve, reject) => {\n      let path;\n\n      try {\n        path = url.toFileSystemPath(file.url);\n      } catch (err) {\n        reject(new ResolverError(ono.uri(err, `Malformed URI: ${file.url}`), file.url));\n      } // console.log('Opening file: %s', path);\n\n\n      try {\n        fs.readFile(path, (err, data) => {\n          if (err) {\n            reject(new ResolverError(ono(err, `Error opening file \"${path}\"`), path));\n          } else {\n            resolve(data);\n          }\n        });\n      } catch (err) {\n        reject(new ResolverError(ono(err, `Error opening file \"${path}\"`), path));\n      }\n    });\n  }\n\n};","map":{"version":3,"names":["fs","require","ono","url","ResolverError","module","exports","order","canRead","file","isFileSystemPath","read","Promise","resolve","reject","path","toFileSystemPath","err","uri","readFile","data"],"sources":["/Users/abdulmutaalazhar/Desktop/Folders/ensembleUi/schema-test1/node_modules/@apidevtools/json-schema-ref-parser/lib/resolvers/file.js"],"sourcesContent":["\"use strict\";\nconst fs = require(\"fs\");\nconst { ono } = require(\"@jsdevtools/ono\");\nconst url = require(\"../util/url\");\nconst { ResolverError } = require(\"../util/errors\");\n\nmodule.exports = {\n  /**\n   * The order that this resolver will run, in relation to other resolvers.\n   *\n   * @type {number}\n   */\n  order: 100,\n\n  /**\n   * Determines whether this resolver can read a given file reference.\n   * Resolvers that return true will be tried, in order, until one successfully resolves the file.\n   * Resolvers that return false will not be given a chance to resolve the file.\n   *\n   * @param {object} file           - An object containing information about the referenced file\n   * @param {string} file.url       - The full URL of the referenced file\n   * @param {string} file.extension - The lowercased file extension (e.g. \".txt\", \".html\", etc.)\n   * @returns {boolean}\n   */\n  canRead (file) {\n    return url.isFileSystemPath(file.url);\n  },\n\n  /**\n   * Reads the given file and returns its raw contents as a Buffer.\n   *\n   * @param {object} file           - An object containing information about the referenced file\n   * @param {string} file.url       - The full URL of the referenced file\n   * @param {string} file.extension - The lowercased file extension (e.g. \".txt\", \".html\", etc.)\n   * @returns {Promise<Buffer>}\n   */\n  read (file) {\n    return new Promise(((resolve, reject) => {\n      let path;\n      try {\n        path = url.toFileSystemPath(file.url);\n      }\n      catch (err) {\n        reject(new ResolverError(ono.uri(err, `Malformed URI: ${file.url}`), file.url));\n      }\n\n      // console.log('Opening file: %s', path);\n\n      try {\n        fs.readFile(path, (err, data) => {\n          if (err) {\n            reject(new ResolverError(ono(err, `Error opening file \"${path}\"`), path));\n          }\n          else {\n            resolve(data);\n          }\n        });\n      }\n      catch (err) {\n        reject(new ResolverError(ono(err, `Error opening file \"${path}\"`), path));\n      }\n    }));\n  }\n};\n"],"mappings":"AAAA;;AACA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAM;EAAEC;AAAF,IAAUD,OAAO,CAAC,iBAAD,CAAvB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,aAAD,CAAnB;;AACA,MAAM;EAAEG;AAAF,IAAoBH,OAAO,CAAC,gBAAD,CAAjC;;AAEAI,MAAM,CAACC,OAAP,GAAiB;EACf;AACF;AACA;AACA;AACA;EACEC,KAAK,EAAE,GANQ;;EAQf;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEC,OAAO,CAAEC,IAAF,EAAQ;IACb,OAAON,GAAG,CAACO,gBAAJ,CAAqBD,IAAI,CAACN,GAA1B,CAAP;EACD,CApBc;;EAsBf;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACEQ,IAAI,CAAEF,IAAF,EAAQ;IACV,OAAO,IAAIG,OAAJ,CAAa,CAACC,OAAD,EAAUC,MAAV,KAAqB;MACvC,IAAIC,IAAJ;;MACA,IAAI;QACFA,IAAI,GAAGZ,GAAG,CAACa,gBAAJ,CAAqBP,IAAI,CAACN,GAA1B,CAAP;MACD,CAFD,CAGA,OAAOc,GAAP,EAAY;QACVH,MAAM,CAAC,IAAIV,aAAJ,CAAkBF,GAAG,CAACgB,GAAJ,CAAQD,GAAR,EAAc,kBAAiBR,IAAI,CAACN,GAAI,EAAxC,CAAlB,EAA8DM,IAAI,CAACN,GAAnE,CAAD,CAAN;MACD,CAPsC,CASvC;;;MAEA,IAAI;QACFH,EAAE,CAACmB,QAAH,CAAYJ,IAAZ,EAAkB,CAACE,GAAD,EAAMG,IAAN,KAAe;UAC/B,IAAIH,GAAJ,EAAS;YACPH,MAAM,CAAC,IAAIV,aAAJ,CAAkBF,GAAG,CAACe,GAAD,EAAO,uBAAsBF,IAAK,GAAlC,CAArB,EAA4DA,IAA5D,CAAD,CAAN;UACD,CAFD,MAGK;YACHF,OAAO,CAACO,IAAD,CAAP;UACD;QACF,CAPD;MAQD,CATD,CAUA,OAAOH,GAAP,EAAY;QACVH,MAAM,CAAC,IAAIV,aAAJ,CAAkBF,GAAG,CAACe,GAAD,EAAO,uBAAsBF,IAAK,GAAlC,CAArB,EAA4DA,IAA5D,CAAD,CAAN;MACD;IACF,CAxBM,CAAP;EAyBD;;AAxDc,CAAjB"},"metadata":{},"sourceType":"script"}